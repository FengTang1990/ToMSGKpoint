Readme for ToMSGKpoint Package

[Modifications  in ToMSGKpointV2.zip, 2025/1/25:
Getgkinfo function is modified: We add the symbol for every magnetic space group operation according to the Bradley-Cracknell convention as listed in the output file: msgop.mx.]

Overview
The ToMSGKpoint package assists in analyzing magnetic space group symmetries, little group of high-symmetry point, high-symmetry line and high-symmetry palne and their (co)irreducible representations for any crystal structure and calculating (co)irreducible representations of energy bands at high-symmetry point, high-symmetry line and high-symmetry palne.

Files in the Package:
1. ToMSGKpoint.wl - Main package file.
2. ToMSGKpoint.mx - Precompiled Mathematica file.
3. example directory - Contains three examples:
   - Bi2Se3 and Na3Bi: Non-magnetic materials.
   - MnBi2Te4: Antiferromagnetic material.
   - Each example includes:
     - vasp-input directory: Contains input files for VASP self-consistent (SCF) and non-self-consistent (non-SCF) band calculations.
     - output directory: Contains output files generated by this package.

How to Use:
1. Load the Package:
   - unzip the ToMSGKpoint.zip file
   - Open a Mathematica notebook.
   - Run Import["Dir\ToMSGKpoint.wl"] where Dir is the path to the ToMSGKpoint.wl file.

2. Setup Workflow:
   - The first prompt asks for the location of ToMSGKpoint.mx. Input the directory path.
   - The second prompt asks for the working directory for your crystal structure. Ensure each structure has its unique working directory.
   - The third prompt asks for an positive integer value lm. Usually, 1 is sufficient.

Example Workflow: Using Bi2Se3
1. Generate Struct File:
   - Run Getstruct[poscar, workingdir], where poscar is the path to the material's POSCAR file and workingdir is the working directory.
   - This command generates struct.mx.
   - For magnetic materials, edit the magnetic moments in struct.mx.

2. Generate k-point Information:
   - Run:
     Getgkinfo[workingdir, struct, ε, lm1, lm2, py, nl, pa, so]
     Parameters:
       - ε: Symmetry-finding precision, e.g., 0.001.
       - lm1, lm2: Positive integers (often set to 1). You can increase lm1 or lm2 when structure is not good enough.
       - py: Geometry type (1 = high-symmetry point, 2 = high-symmetry line, 3 =high-symmetry  plane).
       - nl: Specific which high-symmetry line or high-symmetry plane (used when py=2 or py=3).
       - pa: Number of points in the KPOINTS file for non-SCF VASP calculations.
       - so: Spin-orbit coupling flag. (so=0 for non  spin-orbit coupling, so=1 for  spin-orbit coupling)
   - Example for Bi2Se3:
     Getgkinfo[workingdir, struct, 0.001, 1, 4, 1, 1, 1, 1]
     This generates:
       - msgop.mx: Magnetic space group operations.  Use ShowMSGop[workingdir] to visualize it.
       - transformation.mx: Transformation to Bradley-Cracknell convention. Use ShowTrantoBC[workingdir] to visualize it.
       - gkHSPinfo.mx: Little groups of high-symmetry points with its (co)irreducible representations name and characters. ShowKpointinfo[workingdir, py, nll] to
          visualize nll-th k point information. 
       - KPOINTS file for VASP non-self-consistent band calculations.

3. Analyze (Co)Irreducible Representations:
   - Place VASP non-self-consistent band calculations outputs (WAVECAR, OUTCAR) into the workingdir.
   - Run:
     GetKpointTop[workingdir, 0.0001, 0.01, 1, 1, 0, 1]
     Parameters:
       - 0.0001: Precision for band degeneracy.
       - 0.01: Tolerance for numbers of (co)irreducible representations appears to an integer .
       - py: Same as above.
       - nl: Same as above.
       - 0: Analyze all bands at all k points(set to 1 to generate HSPTop.mx as input file for package CalTopoEvol to get the topological property of the material).
       - so: Same as above.
   - Outputs include HSPbandirrep.mx.

4. Visualize Results:
   - Use ShowBandirreppoint to inspect band information:
     ShowBandirreppoint[workingdir, py, nl, kpoint, band1, band2]
     Provides (co)irreducible representations of energy bands from band1 to band2 at kpoint-th high-symmetry points, kpoint-th k point along nl-th high-symmetry  lines and kpoint-th k point on nl-th  high-symmetry  planes.

Notes:
- Ensure distinct working directories for different materials to prevent conflicts.
- The package supports magnetic and non-magnetic materials with or without considering spin-orbit coupling. Adjust struct.mx for magnetic systems.
